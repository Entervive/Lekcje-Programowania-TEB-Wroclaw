<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zadania JavaScript i PHP</title>
  </head>
  <body>
    <h1>Zadania JavaScript i PHP</h1>

    <section>
      <h2>Generator hasła</h2>
      <input id="haslo" placeholder="Wpisz tekst" />
      <button onclick="generuj()">Generuj</button>
      <p id="wynik1"></p>
    </section>

    <section>
      <h2>Weryfikacja zdania</h2>
      <input id="zdanie" placeholder="Wpisz zdanie" />
      <button onclick="weryfikuj()">Sprawdź</button>
      <p id="wynik2"></p>
    </section>

    <section>
      <h2>Podmiana słowa</h2>
      <input id="tekst" placeholder="Wpisz zdanie" />
      <input id="slowo" placeholder="Wpisz słowo" />
      <button onclick="podmien()">Zamień</button>
      <p id="wynik3"></p>
    </section>

    <section>
      <h2>Analiza e-maili</h2>
      <input id="emaile" placeholder="Podaj e-maile oddzielone przecinkami" />
      <button onclick="analizuj()">Analizuj</button>
      <p id="wynik4"></p>
    </section>

    <section>
      <h2>Automatyczne formatowanie zdania</h2>
      <form action="zadanie5.php" method="POST">
        <input name="zadanie" id="zadanie" placeholder="Wpisz zdanie" />
        <button type="submit">Formatuj</button>
      </form>
    </section>

    <section>
      <h2>Usuwanie słów zakazanych</h2>
      <form action="zadanie6.php" method="POST">
        <input name="zadanie" id="zadanie" placeholder="Wpisz zdanie" />
        <button type="submit">Usuń słowa</button>
      </form>
      <p>$slowa_zakazane = ["jabłko", "banan"];</p>
    </section>

    <script>
      function generuj() {
        let tekst = document.getElementById("haslo").value.trim();
        let wynik = tekst.replace(/\s/g, "").toUpperCase().substring(0, 8);
        if (wynik.length < 8) {
          let brakujaceZnaki = 8 - wynik.length;
          for (let i = 0; i < brakujaceZnaki; i++) {
            wynik += Math.floor(Math.random() * 10);
          }
        }
        document.getElementById("wynik1").textContent = wynik;
      }

      function weryfikuj() {
        let zdanie = document.getElementById("zdanie").value.trim();
        let czyPierwszaDuze = zdanie[0] === zdanie[0]?.toUpperCase();
        let czyKonczyWykrzyknikiem = zdanie.endsWith("!");
        let wynik =
          czyPierwszaDuze && czyKonczyWykrzyknikiem
            ? "Poprawne :)"
            : "Niepoprawne :(";
        document.getElementById("wynik2").textContent = wynik;
      }

      function podmien() {
        let tekst = document.getElementById("tekst").value;
        let slowo = document.getElementById("slowo").value;
        let nowyTekst = tekst.replaceAll(slowo, "[REDACTED]");
        let wynik = nowyTekst.split(" ").join("-");
        document.getElementById("wynik3").textContent = wynik;
      }

      function analizuj() {
        let emaile = document.getElementById("emaile").value.split(", ");
        let wynik = "";
        for (let i = 0; i < emaile.length; i++) {
          let email = emaile[i].trim();
          if (email.includes("@gmail.com")) {
            wynik += email.toUpperCase() + "; ";
          } else {
            wynik += email + "; ";
          }
        }
        document.getElementById("wynik4").textContent = wynik.slice(0, -2);
      }
    </script>
  </body>
</html>
